<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Interactive Form with Dynamic Options</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f2f2;
        }

        h1 {
            text-align: -moz-left;
            color: #333;
        }

        #itemForm {
            background-color: #fff;
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }

        label {
            display: block;
            font-weight: bold;
        }

        #itemInput {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }

        .item-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .item-container span {
            flex-grow: 1;
            margin-right: 10px;
        }

        .item-container input[type="number"] {
            width: 60px;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }

        .item-container select {
            width: 80px;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }

        .item-container button {
            background-color: #ff5733;
            color: #fff;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
        }

        .item-container button:hover {
            background-color: #ff2d00;
        }

        input[type="submit"] {
            display: block;
            background-color: #008CBA;
            color: #fff;
            border: none;
            padding: 10px 20px;
            margin-top: 10px;
            border-radius: 3px;
            cursor: pointer;
        }

        input[type="submit"]:hover {
            background-color: #0073a6;
        }

        #addItemButton {
            display: block;
            background-color: #4caf50;
            color: #fff;
            border: none;
            padding: 10px 20px;
            margin-top: 10px;
            border-radius: 3px;
            cursor: pointer;
        }

        #addItemButton:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
<div th:fragment="quick-order-user">
    <h2>Interactive Form</h2>
    <form id="itemForm">
        <label for="itemInput">Quick order Items</label>
        <input type="text" id="itemInput" list="itemOptions">
        <datalist id="itemOptions">
            <option value="C110">
            <option value="C111">
            <option value="C112">
            <option value="C113">
            <option value="C114">
        </datalist>
        <button type="button" id="addItemButton">Add Item</button>
        <ul id="itemList"></ul>
        <input type="submit" value="Submit">
    </form>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const itemForm = document.getElementById("itemForm");
        const itemInput = document.getElementById("itemInput");
        const addItemButton = document.getElementById("addItemButton");
        const itemList = document.getElementById("itemList");

        addItemButton.addEventListener("click", function () {
            const selectedItem = itemInput.value.trim();
            if (selectedItem) {
                // Create the item container
                const itemContainer = document.createElement("div");
                itemContainer.classList.add("item-container");

                // Create the item name element
                const itemName = document.createElement("span");
                itemName.textContent = selectedItem;
                itemContainer.appendChild(itemName);

                // Create the quantity input
                const quantityInput = document.createElement("input");
                quantityInput.type = "number";
                quantityInput.placeholder = "Quantity";
                itemContainer.appendChild(quantityInput);

                // Create the unit dropdown
                const unitSelect = document.createElement("select");
                const units = ["Kg", "Lb", "Each", "Dozen"]; // Customize the units as needed
                units.forEach(unit => {
                    const option = document.createElement("option");
                    option.value = unit;
                    option.textContent = unit;
                    unitSelect.appendChild(option);
                });
                itemContainer.appendChild(unitSelect);

                // Create the remove button
                const removeButton = document.createElement("button");
                removeButton.textContent = "Remove";
                removeButton.addEventListener("click", function () {
                    itemContainer.remove();
                });
                itemContainer.appendChild(removeButton);

                // Add the item container to the list
                itemList.appendChild(itemContainer);

                // Clear the input field
                itemInput.value = "";
            }
        });

        itemForm.addEventListener("submit", function (e) {
            e.preventDefault(); // Prevent the form from submitting (for demonstration purposes)

            // You can collect and process the item data here before submitting the form
            const items = [];
            const itemContainers = document.querySelectorAll(".item-container");
            itemContainers.forEach(container => {
                const itemName = container.querySelector("span").textContent;
                const quantity = container.querySelector("input").value;
                const unit = container.querySelector("select").value;
                items.push({ name: itemName, quantity, unit });
            });
            console.log("Items:", items);
        });
    });
</script>
</body>
</html